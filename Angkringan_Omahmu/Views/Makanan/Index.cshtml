@{
    ViewData["Title"] = "Makanan";
}

<link rel="stylesheet" href="~/css/makanan.css" asp-append-version="true" />

<div class="container-fluid py-4">
    <div class="row g-4">
        <!-- Left side menu items -->
        <div class="col-md-8">
            <!-- Search bar with better styling -->
            <div class="row mb-4">
                <div class="col">
                    <div class="input-group input-group-lg shadow-sm">
                        <input type="text" id="searchMenu" class="form-control border-0" placeholder="Search for dishes..." />
                        <button class="btn btn-light border-0" type="button">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Category filters -->
            <div class="row mb-4">
                <div class="col">
                    <div class="d-flex gap-2 flex-wrap">
                        <button class="btn btn-sm btn-outline-primary rounded-pill px-3 active">All</button>
                        <button class="btn btn-sm btn-outline-primary rounded-pill px-3">Nasi</button>
                        <button class="btn btn-sm btn-outline-primary rounded-pill px-3">Mie</button>
                        <button class="btn btn-sm btn-outline-primary rounded-pill px-3">Minuman</button>
                    </div>
                </div>
            </div>

            <!-- Menu items grid with improved card design -->
            <div class="row g-4" id="menuItemsContainer">
                @foreach (var mkn in Model)
                {
                    <div class="col-md-6 col-lg-4 menu-item">
                        <div class="card h-100 border-0 shadow-sm hover-shadow transition-all">
                            <div class="position-relative">
                                <img src="@mkn.PhotoLocation" asp-append-version="true" alt="@mkn.Nama" class="card-img-top" style="height: 180px; object-fit: cover;" />
                                <div class="position-absolute top-0 end-0 m-2">
                                    <span class="badge bg-light text-dark shadow-sm p-2">Best Seller</span>
                                </div>
                            </div>
                            <div class="card-body">
                                <h5 class="card-title fw-bold mb-1">@mkn.Nama</h5>
                                <p class="card-text text-primary fw-bold mb-3">@mkn.Harga</p>
                                <div class="d-grid">
                                    <button class="btn btn-primary add-to-order" data-id="@mkn.Id" data-name="@mkn.Nama" data-price="@mkn.Harga">
                                        <i class="bi bi-plus-circle me-2"></i>Add Order
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>

        <!-- Right side order card with enhanced styling -->
        <div class="col-md-4">
            <div id="orderCard" class="card border-0 shadow sticky-top" style="top: 20px;">
                <div class="card-header bg-primary text-white border-0 py-3">
                    <h5 class="mb-0"><i class="bi bi-cart3 me-2"></i>Order Menu</h5>
                </div>
                <div class="card-body">
                    <h6 class="text-muted text-uppercase mb-3">Cart Items</h6>
                    <div id="orderItems" class="mb-3" style="max-height: 350px; overflow-y: auto;">
                        <!-- Order items will be added here dynamically -->
                        <div id="emptyOrderMessage" class="text-center py-5">
                            <i class="bi bi-cart text-muted" style="font-size: 3rem;"></i>
                            <p class="text-muted mt-3">Your cart is empty</p>
                            <small class="text-muted">Add some delicious items from the menu</small>
                        </div>
                    </div>
                    <hr class="my-3" />
                    <div class="d-flex justify-content-between fw-bold">
                        <span>Total</span>
                        <span id="orderTotal" class="text-primary">Rp. 0</span>
                    </div>
                    <div class="mt-4">
                        <h6 class="text-muted text-uppercase mb-3">Payment Method</h6>
                        <div class="d-flex gap-2 flex-wrap">
                            <button class="btn btn-outline-secondary payment-method active border rounded-3 py-2" data-method="cash">
                                <i class="bi bi-cash me-2"></i>Cash
                            </button>
                            <button class="btn btn-outline-secondary payment-method border rounded-3 py-2" data-method="card">
                                <i class="bi bi-credit-card me-2"></i>Card
                            </button>
                            <button class="btn btn-outline-secondary payment-method border rounded-3 py-2" data-method="qris">
                                <i class="bi bi-qr-code me-2"></i>QRIS
                            </button>
                        </div>
                    </div>
                    <div class="mt-4">
                        <button id="submitOrder" class="btn btn-success btn-lg w-100 shadow-sm" disabled>
                            <i class="bi bi-check-circle me-2"></i>Submit Order
                        </button>
                    </div>
                </div>
                <div class="card-footer bg-light border-0 py-3">
                    <small class="text-muted">Need help? Call server with <i class="bi bi-bell"></i></small>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="~/js/makanan.js" asp-append-version="true"></script>
<!-- Add to your layout or this view -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
